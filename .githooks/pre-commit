#!/bin/bash
# Pre-commit hook to remind developers to update documentation

# Get the current branch
BRANCH=$(git branch --show-current)

# Extract feature ID from branch name (e.g., 001-group-expense-tracker -> 001)
FEATURE_ID=$(echo "$BRANCH" | grep -oE '^[0-9]{3}')

if [ -n "$FEATURE_ID" ]; then
  echo ""
  echo "üìù Documentation Reminder"
  echo "========================"
  echo "You're committing to feature branch: $BRANCH"
  echo "Feature ID: $FEATURE_ID"
  echo ""
  echo "Have you updated the changelog?"
  echo "  - Run: /docs.log \"your change description\""
  echo "  - Or manually edit: specs/$FEATURE_ID-*/CHANGELOG.md"
  echo ""
  echo "Press Enter to continue with commit, or Ctrl+C to cancel and update docs..."
  read -r
fi

exit 0
